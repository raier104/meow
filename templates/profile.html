{% extends "base.html" %}
{% block title %}Profile - MEOW{% endblock %}
{% block content %}
<div style="max-width:500px;margin:2rem auto;padding:2rem;background:whitesmoke;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.07);">
    <div style="text-align:center;">
        {% if user.photo %}
            <img src="{{ user.photo.url }}" alt="Profile Photo" style="width:120px;height:120px;border-radius:50%;object-fit:cover;margin-bottom:1rem;">
        {% else %}
            <!-- SVG profile icon -->
            <svg width="120" height="120" viewBox="0 0 32 32" fill="none" style="margin-bottom:1rem;" xmlns="http://www.w3.org/2000/svg">
                <circle cx="16" cy="16" r="15" stroke="#222" stroke-width="2"/>
                <circle cx="16" cy="13" r="4" stroke="#222" stroke-width="2"/>
                <path d="M8 24c0-3.5 4-5.5 8-5.5s8 2 8 5.5" stroke="#222" stroke-width="2" fill="none" stroke-linecap="round"/>
            </svg>
        {% endif %}
        <h1 style="margin-bottom:0.5rem;">{{ user.get_full_name|default:user.username }}</h1>
    </div>
    <hr style="margin:2rem 0;">
    <div>
        <h3 style="text-align: center;">Info</h3>
        <ul style="list-style:none;padding:0;">
            <li><strong>Username:</strong> {{ user.username }}</li>
            <li><strong>Email:</strong> {{ user.email }}</li>
            <li><strong>User Type:</strong> {{ user.user_type|capfirst }}</li>
        </ul>
    </div>
    <div style="text-align:center;margin-top:2rem;">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <label for="photo" style="display:block;margin-bottom:10px;">Upload Profile Image:</label>
            <input type="file" name="photo" id="photo" accept="image/*" style="margin-bottom:10px;">
            <button type="submit" style="background:#2c5f5f;color:#fff;padding:8px 24px;border:none;border-radius:20px;font-weight:600;cursor:pointer;">Update Image</button>
        </form>
        <div style="display:flex; flex-direction:column; align-items:center; gap:1.2rem; margin-top:2.5rem;">
            <form method="post" action="{% url 'users:logout' %}" style="width:100%; display:flex; justify-content:center;">
                {% csrf_token %}
                <button type="submit" style="background:#ff6b35;color:#fff;padding:12px 40px;font-size:1.1rem;border:none;border-radius:24px;font-weight:600;cursor:pointer;min-width:220px;text-align:center;width:220px;">Logout</button>
            </form>
            <div style="display:flex; gap:1rem; width:100%; justify-content:center;">
                <form action="{% url 'shop:previous_orders' %}" method="get" style="margin:0;">
                    <button type="submit" style="background:#2c5f5f;color:#fff;padding:12px 20px;font-size:1.1rem;border:none;border-radius:24px;font-weight:600;cursor:pointer;min-width:110px;text-align:center;">Previous Orders</button>
                </form>
                <form action="{% url 'vets:my_appointments' %}" method="get" style="margin:0;">
                    <button type="submit" style="background:#2c5f5f;color:#fff;padding:12px 20px;font-size:1.1rem;border:none;border-radius:24px;font-weight:600;cursor:pointer;min-width:110px;text-align:center;">Booked Appointments</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
